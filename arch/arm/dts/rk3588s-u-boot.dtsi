// SPDX-License-Identifier: (GPL-2.0+ OR MIT)
/*
 * Copyright (c) 2022 Edgeble AI Technologies Pvt. Ltd.
 */

#include "rockchip-u-boot.dtsi"

/ {
	dmc {
		compatible = "rockchip,rk3588-dmc";
		bootph-all;
		u-boot,dm-spl;
		status = "okay";
	};

	pmu1_grf: syscon@fd58a000 {
		bootph-all;
		u-boot,dm-spl;
		compatible = "rockchip,rk3588-pmu1-grf", "syscon";
		reg = <0x0 0xfd58a000 0x0 0x2000>;
	};

	otp: nvmem@fecc0000 {
		compatible = "rockchip,rk3588-otp";
		reg = <0x0 0xfecc0000 0x0 0x400>;
		#address-cells = <1>;
		#size-cells = <1>;
		status = "okay";

		cpu_id: id@7 {
			reg = <0x07 0x10>;
		};
	};
};

&xin24m {
	bootph-all;
	u-boot,dm-spl;
	status = "okay";
};

&cru {
	bootph-pre-ram;
	u-boot,dm-spl;
	status = "okay";
};

&sys_grf {
	bootph-pre-ram;
	u-boot,dm-spl;
	status = "okay";
};

&scmi {
	u-boot,dm-spl;
};

&scmi_clk {
	u-boot,dm-spl;
};

&sdmmc {
	u-boot,dm-spl;

	/* mmc to sram can't do dma, prevent aborts transfering TF-A parts */
	u-boot,spl-fifo-mode;
};

&uart2 {
	clock-frequency = <24000000>;
	bootph-pre-ram;
	u-boot,dm-spl;
	status = "okay";
};

&ioc {
	u-boot,dm-spl;
	bootph-pre-ram;
};
